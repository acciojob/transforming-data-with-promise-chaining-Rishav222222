<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise Chaining Example</title>
</head>
<body>
    <input type="number" id="ip" placeholder="Enter a number">
    <button id="btn">Calculate</button>
    <div id="output"></div>

    <script>
        // Function to perform asynchronous operations
        function asyncOperation(value, operation, time) {
            return new Promise((resolve, reject) => {
                setTimeout(() => {
                    if (typeof value !== 'number') {
                        reject('Invalid input, please enter a number.');
                    } else {
                        const result = operation(value);
                        resolve(result);
                    }
                }, time);
            });
        }

        // Button event listener
        document.getElementById('btn').addEventListener('click', () => {
            const inputElement = document.getElementById('ip');
            const outputElement = document.getElementById('output');
            const inputValue = parseFloat(inputElement.value);

            // Initial promise
            asyncOperation(inputValue, (num) => num, 2000)
                .then((result) => {
                    outputElement.textContent = `Result: ${result}`;
                    return asyncOperation(result, (num) => num * 2, 1000);
                })
                .then((result) => {
                    outputElement.textContent = `Result: ${result}`;
                    return asyncOperation(result, (num) => num - 3, 1000);
                })
                .then((result) => {
                    outputElement.textContent = `Result: ${result}`;
                    return asyncOperation(result, (num) => num / 2, 1000);
                })
                .then((result) => {
                    outputElement.textContent = `Result: ${result}`;
                    return asyncOperation(result, (num) => num + 10, 1000);
                })
                .then((result) => {
                    outputElement.textContent = `Final Result: ${result}`;
                })
                .catch((error) => {
                    outputElement.textContent = `Error: ${error}`;
                });
        });
    </script>
</body>
</html>

